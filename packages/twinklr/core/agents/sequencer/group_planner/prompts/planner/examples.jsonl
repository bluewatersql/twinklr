{"role": "user", "content": "Section: chorus_1 (HIGH energy, BUSY motion, ABSTRACT style)\nPrimary targets: HERO\nBounds: 48.0s to 64.0s (4 bars)\n\nCreate coordination plan."}
{"role": "assistant", "content": "{\n  \"section_id\": \"chorus_1\",\n  \"lane_plans\": [\n    {\n      \"lane\": \"BASE\",\n      \"target_roles\": [\"OUTLINE\"],\n      \"timing_driver\": \"BARS\",\n      \"blend_mode\": \"alpha_over\",\n      \"coordination_plans\": [\n        {\n          \"coordination_mode\": \"UNIFIED\",\n          \"group_ids\": [\"OUTLINE_1\", \"OUTLINE_2\", \"OUTLINE_3\"],\n          \"placements\": [\n            {\n              \"placement_id\": \"chorus_base_shimmer\",\n              \"group_id\": \"OUTLINE_1\",\n              \"template_id\": \"gtpl_base_shimmer_radial\",\n              \"start\": {\"kind\": \"BAR_BEAT\", \"bar\": 1, \"beat\": 1},\n              \"end\": {\"kind\": \"BAR_BEAT\", \"bar\": 5, \"beat\": 1},\n              \"intensity\": 0.85\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"lane\": \"RHYTHM\",\n      \"target_roles\": [\"ARCHES\"],\n      \"timing_driver\": \"BEATS\",\n      \"blend_mode\": \"add\",\n      \"coordination_plans\": [\n        {\n          \"coordination_mode\": \"SEQUENCED\",\n          \"group_ids\": [\"ARCHES_1\", \"ARCHES_2\", \"ARCHES_3\"],\n          \"window\": {\n            \"template_id\": \"gtpl_rhythm_chase_single\",\n            \"start\": {\"kind\": \"BAR_BEAT\", \"bar\": 1, \"beat\": 1},\n            \"end\": {\"kind\": \"BAR_BEAT\", \"bar\": 5, \"beat\": 1}\n          },\n          \"config\": {\n            \"group_order\": [\"ARCHES_1\", \"ARCHES_2\", \"ARCHES_3\"],\n            \"step_unit\": \"BEAT\",\n            \"step_duration\": 1\n          }\n        }\n      ]\n    },\n    {\n      \"lane\": \"ACCENT\",\n      \"target_roles\": [\"HERO\"],\n      \"timing_driver\": \"PHRASES\",\n      \"blend_mode\": \"max\",\n      \"coordination_plans\": [\n        {\n          \"coordination_mode\": \"UNIFIED\",\n          \"group_ids\": [\"HERO_1\", \"HERO_2\", \"HERO_3\"],\n          \"placements\": [\n            {\n              \"placement_id\": \"chorus_hero_burst\",\n              \"group_id\": \"HERO_1\",\n              \"template_id\": \"gtpl_accent_burst_big\",\n              \"start\": {\"kind\": \"BAR_BEAT\", \"bar\": 1, \"beat\": 1},\n              \"end\": {\"kind\": \"BAR_BEAT\", \"bar\": 2, \"beat\": 1},\n              \"intensity\": 1.2\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  \"deviations\": []\n}\n\n✓ VALID: Each group appears in only ONE coordination_plan per lane. No overlaps."}
{"role": "user", "content": "What's wrong with this plan?\n\n{\n  \"lane_plans\": [\n    {\n      \"lane\": \"RHYTHM\",\n      \"coordination_plans\": [\n        {\n          \"coordination_mode\": \"UNIFIED\",\n          \"group_ids\": [\"ARCHES_1\", \"ARCHES_2\"],\n          \"placements\": [{\"start\": {\"bar\": 1}, \"end\": {\"bar\": 5}}]\n        },\n        {\n          \"coordination_mode\": \"COMPLEMENTARY\",\n          \"group_ids\": [\"ARCHES_1\", \"ARCHES_3\"],\n          \"placements\": [{\"start\": {\"bar\": 1}, \"end\": {\"bar\": 5}}]\n        }\n      ]\n    }\n  ]\n}"}
{"role": "assistant", "content": "❌ INVALID: Within-lane overlap violation!\n\nProblem: ARCHES_1 appears in TWO different coordination_plans in the RHYTHM lane with overlapping timing (both bars 1-5).\n\nThis creates a conflict - the renderer doesn't know which plan controls ARCHES_1.\n\nFix:\n- Remove ARCHES_1 from one of the plans, OR\n- Make the timing sequential (plan A: bars 1-3, plan B: bars 3-5), OR\n- Consolidate into one plan with all three arches"}
{"role": "user", "content": "What's wrong with this plan?\n\n{\n  \"lane_plans\": [\n    {\n      \"lane\": \"ACCENT\",\n      \"coordination_plans\": [\n        {\n          \"coordination_mode\": \"CALL_RESPONSE\",\n          \"group_ids\": [\"HERO_1\", \"HERO_2\", \"HERO_3\"],\n          \"window\": {\"start\": {\"bar\": 1}, \"end\": {\"bar\": 5}},\n          \"config\": {\"group_order\": [\"HERO_1\", \"HERO_2\", \"HERO_3\", \"HERO_2\"]}\n        }\n      ]\n    }\n  ]\n}"}
{"role": "assistant", "content": "❌ INVALID: Duplicate in group_order!\n\nProblem: group_order contains [\"HERO_1\", \"HERO_2\", \"HERO_3\", \"HERO_2\"] - HERO_2 appears twice.\n\nThis is almost always a copy/paste error.\n\nFix: Remove the duplicate: [\"HERO_1\", \"HERO_2\", \"HERO_3\"]"}
{"role": "user", "content": "What's wrong with this plan?\n\n{\n  \"lane_plans\": [\n    {\n      \"lane\": \"BASE\",\n      \"coordination_plans\": [\n        {\n          \"group_ids\": [\"OUTLINE_1\"],\n          \"placements\": [\n            {\n              \"template_id\": \"gtpl_rhythm_strobe_soft\",\n              \"intensity\": 0.8\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}"}
{"role": "assistant", "content": "❌ INVALID: Template lane mismatch!\n\nProblem: Using gtpl_rhythm_strobe_soft (RHYTHM template) in BASE lane.\n\nTemplates must match their lane:\n- BASE lane → gtpl_base_* templates only\n- RHYTHM lane → gtpl_rhythm_* templates only\n- ACCENT lane → gtpl_accent_* templates only\n\nFix: Use a BASE template like gtpl_base_shimmer_radial or gtpl_base_glow_warm"}
{"role": "user", "content": "What's wrong with this intensity?\n\n{\n  \"placements\": [\n    {\n      \"template_id\": \"gtpl_accent_burst_big\",\n      \"intensity\": 2.5\n    }\n  ]\n}"}
{"role": "assistant", "content": "❌ INVALID: Intensity out of range!\n\nProblem: intensity = 2.5, but valid range is 0.0 to 1.5.\n\nTypical ranges:\n- BASE: 0.6-0.9\n- RHYTHM: 0.8-1.1\n- ACCENT: 0.9-1.3\n\nValues >1.5 will be clamped.\n\nFix: Use intensity between 0.0-1.5, typically 1.2 for big accent bursts"}
